<h1 mat-dialog-title class="text-center tern-bold text-uppercase">Create Courier Info
  <div class="float-right">
    <button class="close-btn" mat-dialog-close><i class="fa fa-times" aria-hidden="true"></i></button>
  </div>
</h1>
<div class="text-center grayscale w-100" *ngIf="isLoading">
 <svg width="40" height="40" viewBox="0 0 300 300" class="loadersvg"><defs><linearGradient id="gradient-fill" gradientUnits="userSpaceOnUse" x1="0" y1="300" x2="300" y2="0">
      <stop offset="0%"><animate attributeName="stop-color" values="#00E06B;#CB0255;#00E06B" dur="5s" repeatCount="indefinite"/></stop>
	  <stop offset="100%"><animate attributeName="stop-color" values="#04AFC8;#8904C5;#04AFC8" dur="8s" repeatCount="indefinite"/></stop></linearGradient>
    <clipPath id="clip">
      <rect class="square s1" x="0" y="0" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s2" x="100" y="0" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s3" x="200" y="0" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s4" x="0" y="100" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s5" x="200" y="100" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s6" x="0" y="200" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s7" x="100" y="200" rx="12" ry="12" height="90" width="90"></rect>
    </clipPath>
  </defs>
  <rect class="gradient" clip-path="url('#clip')" height="300" width="300"></rect>
</svg></div>
<div *ngIf="!isLoading">

 <form [formGroup]="courier_form" (ngSubmit)="onSubmitCourier()">
<mat-dialog-content class="mat-typography" >
<div class="frmcustom">

    
      <div class="plannedsec w-100 mb-3">
        <div class="row">
          <div class="col-md-3">
            <mat-form-field class="example-full-width">
              <input matInput placeholder="Package Name" formControlName="package_name" value="" required>
            </mat-form-field>
          </div>

          <div class="col-md-3">
            <mat-form-field>
              <mat-select formControlName="weight_unit" [(ngModel)]="weightUnit" [disabled]="packageUnitDisabled">
                <mat-option value="kg" selected>Kilogram</mat-option>
                <mat-option value="lb">Pound</mat-option>
                <mat-option value="oz">Ounce</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="col-md-3">
            <mat-form-field class="example-full-width">
              <input matInput [placeholder]="package_weight_unit" formControlName="package_weight" value="" required>
              <mat-error *ngIf="courier_form.controls.package_weight.errors">Numbers only</mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field>
              <mat-label>Size</mat-label>
              <mat-select required="" formControlName="size">
                <mat-option value="small">Small</mat-option>
                <mat-option value="medium">Medium</mat-option>
                <mat-option value="large">Large</mat-option>
                <mat-option value="envelope">Envelope</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field class="example-full-width txtarea">
              <textarea matInput placeholder="Package Description" formControlName="package_description" value=""
                required=""></textarea>
            </mat-form-field>
          </div>
          <div class="col-md-6"> 
            <!--<h5 class="mb-3">Package<span class="tern-bold"> Images</span></h5>-->
            <!-- <div class="text-center grayscale w-100" *ngIf="isImageLoading"><img src="../../assets/images/loading.webp"
                width="100" /></div> -->
            <div class="w-100 text-center mb-5">
              <div class="packimgbox">
                <div class="row">
                  <div class="col-md-8">
                    <label class="custom-file-upload btn btn-outline-success tern-bold mt-5 ">
                      <input id="photo" name="photo" type="file" (change)="onSelectFile($event)" />
                      Upload Package Image <i class="fas fa-upload"></i> </label>
                    <div *ngIf="isImageErrorEnabled" style="color: red; font-weight: 600;"> Please upload the
                      image....</div>
                  </div>
                  <!-- <div class="col-md-4"> <span *ngFor="let img of image_urls; let i=index" id="img_{{i}}" class="uploadimgcls"> <img [src]="img.imagePath">
                    <button class="uploadcls" type="button" (click)="delete(img.imageName,i)">X</button>
                    </span> <span class="uploadimgcls" *ngIf="image_urls.length === 0"> <img
                        src="../../../assets/images/profile.webp">
                    <button class="uploadcls"
                        type="button">X</button>
                    </span> </div> -->
                
                    <div class="col-md-4">
                      <!-- <span *ngFor="let img of image_urls; let i=index" id="img_{{i}}" class="uploadimgcls">
                        <img [src]="img.imagePath">
                        <button class="uploadcls" type="button" (click)="delete(img.imageName,i)">X</button>
                      </span> -->
                      <span class="uploadimgcls">
                          <span *ngIf="isPackageImageLoading" class="grayscale grayloader">
                            
                             <svg width="15" height="15" viewBox="0 0 300 300" class="loadersvg"><defs><linearGradient id="gradient-fill" gradientUnits="userSpaceOnUse" x1="0" y1="300" x2="300" y2="0">
      <stop offset="0%"><animate attributeName="stop-color" values="#00E06B;#CB0255;#00E06B" dur="5s" repeatCount="indefinite"/></stop>
	  <stop offset="100%"><animate attributeName="stop-color" values="#04AFC8;#8904C5;#04AFC8" dur="8s" repeatCount="indefinite"/></stop></linearGradient>
    <clipPath id="clip">
      <rect class="square s1" x="0" y="0" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s2" x="100" y="0" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s3" x="200" y="0" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s4" x="0" y="100" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s5" x="200" y="100" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s6" x="0" y="200" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s7" x="100" y="200" rx="12" ry="12" height="90" width="90"></rect>
    </clipPath>
  </defs>
  <rect class="gradient" clip-path="url('#clip')" height="300" width="300"></rect>
</svg>
                            </span>  
                            <img [src]="image_urls.imagePath" *ngIf="image_urls.imagePath">
                            <img src="../../../assets/images/profile.webp" *ngIf="!image_urls.imagePath">
                          <!-- <button class="uploadcls" type="button">X</button> -->
                        </span>
                      <!-- <span class="uploadimgcls" *ngIf="image_urls.imagePath">
                          <img [src]="image_urls.imagePath">
                     
                        </span>

                      <span class="uploadimgcls" *ngIf="!image_urls.imagePath"> <img
                          src="../../../assets/images/profile.webp">
                     
                      </span> -->
                    </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-12 mb-3">
        <h6 class="mb-3 tern-bold">Enter Item Details</h6>
        <div class="itemboxssec" formArrayName="items">

          <!-- <div class="itemboxcontent" *ngFor="let unit of courier_form.controls.items.controls; let i=index"> -->
              <div class="itemboxcontent" *ngFor="let unit of getControls(); let i = index;">

            <div class="row" [formGroupName]="i">
              <div class="col-md-1 tern-bold pt-3">Item {{i+1}}</div>
              <div class="col-md-2">

                <mat-form-field class="example-full-width">
                  <input matInput formControlName="item_name" placeholder="Item Name" value="">
                </mat-form-field>
              </div>

              <div class="col-md-2">
                <mat-form-field class="example-full-width">
                  <input matInput formControlName="item_weight" placeholder="Item Weight" value="">
                </mat-form-field>
              </div>
              <div class="col-md-2">
                <mat-form-field class="example-full-width">
                  <input matInput formControlName="item_value" placeholder="Item Value" value="">
                </mat-form-field>
              </div>
              <div class="col-md-4">

                <div class="itemimagesboxs">

                  <label class="custom-file-upload btn btn-outline-secondary btnsm tern-bold ">
                    <input id="itemphoto_{{i}}" formControlName="itemphoto" name="itemphoto" type="file" 
                      (change)="onSelectItemFile($event, i)" />
                    Upload Image <i class="fas fa-upload"></i>
                  </label>

                  <!-- <span class="uploadimgcls mt-2" *ngIf="item_image_urls">
                    <img  formControlName="item_images" [src]="item_image_val[i].imagePath">
                  </span>

                  <span class="uploadimgcls" *ngIf="!item_image_urls"> <img
                      src="../../../assets/images/profile.webp">
                  </span> -->
                  <span class="uploadimgcls">
                    	<span *ngIf="item_image_loader[i].load" class="grayscale grayloader pt-2">
                         <svg width="15" height="15" viewBox="0 0 300 300" class="loadersvg"><defs><linearGradient id="gradient-fill" gradientUnits="userSpaceOnUse" x1="0" y1="300" x2="300" y2="0">
      <stop offset="0%"><animate attributeName="stop-color" values="#00E06B;#CB0255;#00E06B" dur="5s" repeatCount="indefinite"/></stop>
	  <stop offset="100%"><animate attributeName="stop-color" values="#04AFC8;#8904C5;#04AFC8" dur="8s" repeatCount="indefinite"/></stop></linearGradient>
    <clipPath id="clip">
      <rect class="square s1" x="0" y="0" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s2" x="100" y="0" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s3" x="200" y="0" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s4" x="0" y="100" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s5" x="200" y="100" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s6" x="0" y="200" rx="12" ry="12" height="90" width="90"></rect>
      <rect class="square s7" x="100" y="200" rx="12" ry="12" height="90" width="90"></rect>
    </clipPath>
  </defs>
  <rect class="gradient" clip-path="url('#clip')" height="300" width="300"></rect>
</svg>
                        </span>  
                        <img [src]="item_image_val[i].imagePath" *ngIf="item_image_val[i].imagePath">
                        <img src="../../../assets/images/profile.webp" *ngIf="!item_image_val[i].imagePath">
                      
                    </span>
                  
                  <!-- <span class="uploadimgcls mt-2" *ngIf="item_image_val[i].imagePath">
                    <img formControlName="item_images" [src]="item_image_val[i].imagePath">
               
                  </span>
                  <span class="uploadimgcls mt-2" *ngIf="!item_image_val[i].imagePath"> <img
                    src="../../../assets/images/profile.webp">
                </span> -->

                  <div *ngIf="isItemImageErrorEnabled" style="color: red; font-weight: 600;"> Please upload the
                    image....
                  </div>
                </div>
              </div>
              <div class="col-md-1 text-right align-middle">
                <a href="javascript:void(0);" class="mt-3 d-inline-block" matTooltip="Remove Item"
                  *ngIf="courier_form.controls.items.controls.length > 1" (click)="removeItem(i)"><i
                    class="fa fa-minus"></i></a>
              </div>
            </div>
          </div>
          <div class="text-right mb-3">
            <!-- <button mat-button class="btn btn-dark addbtn btnsm" (click)="addItem()"><i
                class="fa fa-plus"></i> Add
              Items</button> -->
              <span style="cursor: pointer;" class="btn btn-dark addbtn btnsm" (click)="addItem()"><i
                          class="fa fa-plus"></i> Add Items</span>
          </div>
        </div>
      </div>

      <div class="col-md-12 mb-3">

        <h6 class="mb-3 tern-bold">Receiver Details</h6>
        <div class="row">
          <div class="col-md-4">
            <mat-form-field class="example-full-width">
              <input matInput placeholder="Receiver Name" formControlName="receiver_name" value="" required>
            </mat-form-field>
          </div>

          <div class="col-md-4">
            <mat-form-field class="example-full-width">
              <input matInput placeholder="Mobile Number" formControlName="receiver_contact_no" value="" required>
            </mat-form-field>
          </div>

          <div class="col-md-4">
            <mat-form-field class="example-full-width">
              <input matInput placeholder="Email id" formControlName="receiver_email_id" value="" pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$" required>
              <mat-error *ngIf="courier_form.controls.receiver_email_id.hasError('required')">
                Email is
                <strong>required</strong>
               </mat-error>
            </mat-form-field>
          </div>
          <!-- <div class="col-md-4">
            <button mat-button class="btn btn-outline-success btnsm " (click)="sendPackageCode()">Send Code</button>
        </div>
            <button mat-button class="btn btn-outline-primary float-right btnsm ftsearchbtn" matTooltip="Edit Account Details" (click)="changeEmail()"><i class="fas fa-pencil-alt"></i></button> -->
        </div>
      </div>

</div>

</mat-dialog-content>

  <mat-dialog-actions class="select_exchanges m-0" align="center">
     <button mat-button type="submit" class="btn btn-primary">submit</button>
  </mat-dialog-actions>
</form>
</div>